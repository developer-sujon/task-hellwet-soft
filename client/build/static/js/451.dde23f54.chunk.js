"use strict";(self.webpackChunkfresh_app=self.webpackChunkfresh_app||[]).push([[451],{1451:function(e,s,t){t.r(s);var n=t(4165),r=t(5861),a=t(9439),i=t(7022),l=t(9140),c=t(9743),d=t(2677),o=t(3855),u=t(3360),h=t(4849),x=t(9230),f=t(1134),m=t(4695),p=t(8007),Z=t(1679),j=t(3397),v=t(2791),g=t(7689),b=t(5851),C=t(184);s.default=function(){var e=(0,v.useState)(!0),s=(0,a.Z)(e,2),t=s[0],k=(s[1],(0,v.useState)(null)),D=(0,a.Z)(k,2),S=D[0],N=D[1],w=(0,v.useState)({title:"",descriptions:"",dueDate:"",status:""}),y=(0,a.Z)(w,2),I=y[0],z=y[1],L=(0,x.$G)().t,T=(0,g.s0)(),q=(0,j.xh)().data,B=(0,j.J5)(),G=(0,a.Z)(B,2),V=G[0],_=G[1],Q=_.isLoading,E=_.isSuccess,R=(0,j.zH)(),U=(0,a.Z)(R,2),H=U[0],J=U[1],P=J.isLoading,X=J.isSuccess,$=(0,b.fG)(),A=(0,a.Z)($,1)[0];(0,v.useEffect)((function(){var e,s=new URLSearchParams(window.location.search).get("id");(null!==s&&N(s),S&&q)&&z(null===q||void 0===q||null===(e=q.data)||void 0===e?void 0:e.find((function(e){return e.id===S})))}),[S,q]);var F=(0,f.cI)({mode:"onChange",defaultValues:I,resolver:(0,m.X)(p.Ry({title:p.Z_().required(L("title is required")).min(3,L("title must be 3 characters long")).max(30,L("title maximum be 30 characters")),descriptions:p.Z_().required(L("descriptions is required")),dueDate:p.hT(),status:p.Z_().required(L("status is required"))}))}),K=F.control,M=F.handleSubmit,O=F.reset,W=F.formState.errors;(0,v.useEffect)((function(){I&&O(I)}),[I]);return(0,v.useEffect)((function(){if(E||X){var e=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),T("/task")}}),[E,X,t]),(0,C.jsx)(Z.Z,{children:(0,C.jsx)(i.Z,{children:(0,C.jsx)(l.Z,{children:(0,C.jsx)(l.Z.Body,{children:(0,C.jsxs)(c.Z,{children:[(0,C.jsx)("h5",{children:L("".concat(S?"Update Task":"Save Task"))}),(0,C.jsx)("hr",{className:"bg-light"}),(0,C.jsx)(d.Z,{children:(0,C.jsxs)(o.Z,{onSubmit:M((function(e){var s={title:e.title,descriptions:e.descriptions,dueDate:e.dueDate,status:e.status};S?H({id:S,postBody:s}):V(s)})),onReset:O,children:[(0,C.jsxs)(c.Z,{class:!0,children:[(0,C.jsx)(d.Z,{sm:4,children:(0,C.jsxs)(o.Z.Group,{className:"mb-3",controlId:"title",children:[(0,C.jsx)(o.Z.Label,{children:L("title")}),(0,C.jsx)(f.Qr,{control:K,name:"title",defaultValue:"",render:function(e){var s=e.field,t=s.onChange,n=(s.onBlur,s.value),r=s.ref;return(0,C.jsx)(o.Z.Control,{onChange:t,value:n,ref:r,isInvalid:W.title,placeholder:L("title of the task"),type:"text",size:"sm"})}}),W.title&&(0,C.jsx)(o.Z.Text,{className:"text-danger",children:W.title.message})]})}),(0,C.jsx)(d.Z,{sm:4,children:(0,C.jsxs)(o.Z.Group,{className:"mb-3",controlId:"dueDate",children:[(0,C.jsx)(o.Z.Label,{children:L("dueDate")}),(0,C.jsx)(f.Qr,{control:K,name:"dueDate",defaultValue:"",render:function(e){var s=e.field,t=s.onChange,n=(s.onBlur,s.value),r=s.ref;return(0,C.jsx)(o.Z.Control,{onChange:t,value:n,ref:r,isInvalid:W.dueDate,placeholder:L("dueDate of the task"),type:"date",size:"sm"})}}),W.dueDate&&(0,C.jsx)(o.Z.Text,{className:"text-danger",children:W.dueDate.message})]})}),(0,C.jsx)(d.Z,{sm:4,children:(0,C.jsxs)(o.Z.Group,{className:"mb-3",controlId:"status",children:[(0,C.jsx)(o.Z.Label,{children:L("status")}),(0,C.jsx)(f.Qr,{control:K,name:"status",defaultValue:"",render:function(e){var s=e.field,t=s.onChange,n=(s.onBlur,s.value),r=s.ref;return(0,C.jsxs)(o.Z.Select,{onChange:t,value:n,ref:r,isInvalid:W.status,placeholder:L("status of the agent"),type:"text",size:"sm",children:[(0,C.jsx)("option",{value:"",children:L("choice status")}),(0,C.jsx)("option",{value:"new",children:L("new")}),(0,C.jsx)("option",{value:"pending",children:L("pending")}),(0,C.jsx)("option",{value:"canceled",children:L("canceled")}),(0,C.jsx)("option",{value:"complete",children:L("complete")})]})}}),W.status&&(0,C.jsx)(o.Z.Text,{className:"text-danger",children:W.status.message})]})}),(0,C.jsx)(d.Z,{sm:12,children:(0,C.jsxs)(o.Z.Group,{className:"mb-3",controlId:"descriptions",children:[(0,C.jsx)(o.Z.Label,{children:L("descriptions")}),(0,C.jsx)(f.Qr,{control:K,name:"descriptions",defaultValue:"",render:function(e){var s=e.field,t=s.onChange,n=(s.onBlur,s.value),r=s.ref;return(0,C.jsx)(o.Z.Control,{onChange:t,value:n,ref:r,isInvalid:W.descriptions,placeholder:L("descriptions of the task"),type:"text",size:"sm",as:"textarea"})}}),W.descriptions&&(0,C.jsx)(o.Z.Text,{className:"text-danger",children:W.descriptions.message})]})})]}),(0,C.jsx)(c.Z,{children:(0,C.jsx)(d.Z,{sm:4,children:(0,C.jsx)(u.Z,{size:"sm",className:"mt-2",type:"submit",children:Q||P?(0,C.jsx)(h.Z,{size:"sm",color:"light"}):L("save change")})})})]})})]})})})})})}}}]);
//# sourceMappingURL=451.dde23f54.chunk.js.map