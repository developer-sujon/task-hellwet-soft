"use strict";(self.webpackChunkfresh_app=self.webpackChunkfresh_app||[]).push([[392],{3397:function(e,t,n){n.d(t,{J5:function(){return l},jj:function(){return u},xh:function(){return o},zH:function(){return c}});var a=n(4165),s=n(5861),r=n(7218),i=(n(5851),r.E.injectEndpoints({endpoints:function(e){return{taskList:e.query({query:function(){return{url:"task/taskList",method:"GET"}}}),taskCreate:e.mutation({query:function(e){return{url:"task/taskCreate",method:"POST",body:e}},onQueryStarted:function(e,t){return(0,s.Z)((0,a.Z)().mark((function e(){var n,s,i,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,s=t.queryFulfilled,e.prev=1,e.next=4,s;case 4:i=e.sent,l=i.data,n(r.E.util.updateQueryData("taskList",void 0,(function(e){e.data.push(l.data)}))),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),e,null,[[1,9]])})))()}}),taskUpdate:e.mutation({query:function(e){var t=e.id,n=e.postBody;return{url:"task/taskUpdate/".concat(t),method:"PATCH",body:n}},onQueryStarted:function(e,t){return(0,s.Z)((0,a.Z)().mark((function n(){var s,i,l,o,c;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=e.id,i=e.postBody,l=t.dispatch,o=t.queryFulfilled,c=l(r.E.util.updateQueryData("taskList",void 0,(function(e){var t=e.data.findIndex((function(e){return e.id===s}));e.data[t].title=i.title,e.data[t].status=i.status,e.data[t].dueDate=i.dueDate,e.data[t].descriptions=i.descriptions}))),n.prev=3,n.next=6,o;case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(3),c.undo();case 11:case"end":return n.stop()}}),n,null,[[3,8]])})))()}}),taskDelete:e.mutation({query:function(e){return{url:"task/taskDelete/".concat(e),method:"DELETE"}},onQueryStarted:function(e,t){return(0,s.Z)((0,a.Z)().mark((function n(){var s,i,l;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=t.dispatch,i=t.queryFulfilled,l=s(r.E.util.updateQueryData("taskList",void 0,(function(t){t.data=t.data.filter((function(t){return t.id!==e}))}))),n.prev=2,n.next=5,i;case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(2),l.undo();case 10:case"end":return n.stop()}}),n,null,[[2,7]])})))()}})}}})),l=i.useTaskCreateMutation,o=i.useTaskListQuery,c=i.useTaskUpdateMutation,u=i.useTaskDeleteMutation},2392:function(e,t,n){n.r(t),n.d(t,{default:function(){return Y}});var a=n(9439),s=n(2791),r=n(5736),i=n(7798),l=n(2576),o=n(3360),c=n(7022),u=n(9140),d=n(9743),p=n(2677),h=n(4849),x=n(9230),f=n(8820),m=n(9826),g=n(3397),v=n(3433),j=n(1413),b=n(5987),Z=n(1358),k=n(1694),y=n.n(k),C=n(1087),N=n(6053),w=n(184),S=function(e){var t=e.tableProps,n=e.sizePerPageList,r=e.link,i=(0,s.useState)(t.pageCount),l=(0,a.Z)(i,2),o=l[0],c=l[1],u=(0,s.useState)(t.state.pageIndex),d=(0,a.Z)(u,2),p=d[0],h=d[1];(0,s.useEffect)((function(){c(t.pageCount),h(t.state.pageIndex)}),[t.pageCount,t.state.pageIndex]);var x=(0,s.useCallback)((function(e,t){return e.filter((function(e){return e<=o}))}),[o]),f=(0,s.useCallback)((function(e,t){return t<7?x([1,2,3,4,5,6],t):e%5>=0&&e>4&&e+2<t?[1,e-1,e,e+1,t]:e%5>=0&&e>4&&e+2>=t?[1,t-3,t-2,t-1,t]:[1,2,3,4,5,t]}),[x]),m=function(e){if(e!==p+1){var n=f(e,o);b(x(n,o)),t.gotoPage(e-1)}};(0,s.useEffect)((function(){var e=f(0,o);b(e)}),[o,f]);var g=(0,s.useState)(f(0,o)),v=(0,a.Z)(g,2),j=v[0],b=v[1],Z=p+1;return(0,w.jsxs)("div",{className:"d-lg-flex align-items-center text-center pb-1",children:[n.length>0&&(0,w.jsxs)("div",{className:"d-inline-block me-3",children:[(0,w.jsx)("label",{className:"me-1",children:"Display :"}),(0,w.jsx)("select",{value:t.state.pageSize,onChange:function(e){t.setPageSize(Number(e.target.value))},className:"form-select d-inline-block w-auto",children:(n||[]).map((function(e,t){return(0,w.jsx)("option",{value:e.value,children:e.text},t)}))})]}),(0,w.jsxs)("span",{className:"me-3",children:["Page"," ",(0,w.jsxs)("strong",{children:[p+1," of ",t.pageOptions.length]})," "]}),(0,w.jsxs)("span",{className:"d-inline-block align-items-center text-sm-start text-center my-sm-0 my-2",children:[(0,w.jsx)("label",{children:"Go to page : "}),(0,w.jsx)("input",{type:"number",value:p+1,min:"1",onChange:function(e){var n=e.target.value?Number(e.target.value)-1:0;t.gotoPage(n),h(t.state.pageIndex)},className:"form-control w-25 ms-1 d-inline-block"})]}),(0,w.jsxs)("ul",{className:"pagination pagination-rounded d-inline-flex ms-auto align-item-center mb-0",children:[(0,w.jsx)("li",{className:y()("page-item","paginate_button","previous",{disabled:1===Z}),onClick:function(){1!==Z&&m(Z-1)},children:(0,w.jsx)(C.rU,{to:r,className:"page-link",children:(0,w.jsx)(N.Ugn,{})})},"prevpage"),(j||[]).map((function(e,t,n){return n[t-1]+1<e?(0,w.jsxs)(s.Fragment,{children:[(0,w.jsx)("li",{className:"page-item disabled d-none d-xl-inline-block",children:(0,w.jsx)(C.rU,{to:r,className:"page-link",children:"..."})}),(0,w.jsx)("li",{className:y()("page-item","d-none","d-xl-inline-block",{active:Z===e}),onClick:function(t){return m(e)},children:(0,w.jsx)(C.rU,{to:r,className:"page-link",children:e})})]},e):(0,w.jsx)("li",{className:y()("page-item","d-none","d-xl-inline-block",{active:Z===e}),onClick:function(t){return m(e)},children:(0,w.jsx)(C.rU,{to:r,className:"page-link",children:e})},e)})),(0,w.jsx)("li",{className:y()("page-item","paginate_button","next",{disabled:Z===t.pageCount}),onClick:function(){Z!==t.pageCount&&m(Z+1)},children:(0,w.jsx)(C.rU,{to:r,className:"page-link",children:(0,w.jsx)(N.ULj,{})})},"nextpage")]})]})},P=["indeterminate"],T=function(e){var t=e.preGlobalFilteredRows,n=e.globalFilter,r=e.setGlobalFilter,i=e.searchBoxClass,l=t.length,o=s.useState(n),c=(0,a.Z)(o,2),u=c[0],d=c[1],p=(0,Z.useAsyncDebounce)((function(e){r(e||void 0)}),200);return(0,w.jsx)("div",{className:y()(i),children:(0,w.jsxs)("span",{className:"d-flex align-items-center",children:["Search :"," ",(0,w.jsx)("input",{value:u||"",onChange:function(e){d(e.target.value),p(e.target.value)},placeholder:"".concat(l," records..."),className:"form-control w-auto ms-1"})]})})},E=(0,s.forwardRef)((function(e,t){var n=e.indeterminate,a=(0,b.Z)(e,P),r=(0,s.useRef)(),i=t||r;return(0,s.useEffect)((function(){i.current.indeterminate=n}),[i,n]),(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)("div",{className:"form-check",children:[(0,w.jsx)("input",(0,j.Z)({type:"checkbox",className:"form-check-input",ref:i},a)),(0,w.jsx)("label",{htmlFor:"form-check-input",className:"form-check-label"})]})})})),F=function(e){var t=e.isSearchable||!1,n=e.isSortable||!1,a=e.pagination||!1,s=e.isSelectable||!1,r=e.isExpandable||!1,i=(0,Z.useTable)({columns:e.columns,data:e.data,initialState:{pageSize:e.pageSize||10}},t&&Z.useGlobalFilter,n&&Z.useSortBy,r&&Z.useExpanded,a&&Z.usePagination,s&&Z.useRowSelect,(function(e){s&&e.visibleColumns.push((function(e){return[{id:"selection",Header:function(e){var t=e.getToggleAllPageRowsSelectedProps;return(0,w.jsx)("div",{children:(0,w.jsx)(E,(0,j.Z)({},t()))})},Cell:function(e){var t=e.row;return(0,w.jsx)("div",{children:(0,w.jsx)(E,(0,j.Z)({},t.getToggleRowSelectedProps()))})}}].concat((0,v.Z)(e))})),r&&e.visibleColumns.push((function(e){return[{id:"expander",Header:function(e){var t=e.getToggleAllRowsExpandedProps,n=e.isAllRowsExpanded;return(0,w.jsx)("span",(0,j.Z)((0,j.Z)({},t()),{},{children:n?"-":"+"}))},Cell:function(e){var t=e.row;return t.canExpand?(0,w.jsx)("span",(0,j.Z)((0,j.Z)({},t.getToggleRowExpandedProps({style:{paddingLeft:"".concat(2*t.depth,"rem")}})),{},{children:t.isExpanded?"-":"+"})):null}}].concat((0,v.Z)(e))}))})),l=a?i.page:i.rows;return(0,w.jsxs)(w.Fragment,{children:[t&&(0,w.jsx)(T,{preGlobalFilteredRows:i.preGlobalFilteredRows,globalFilter:i.state.globalFilter,setGlobalFilter:i.setGlobalFilter,searchBoxClass:e.searchBoxClass}),(0,w.jsx)("div",{className:"table-responsive",children:(0,w.jsxs)("table",(0,j.Z)((0,j.Z)({},i.getTableProps()),{},{className:y()("table table-centered react-table",e.tableClass),children:[(0,w.jsx)("thead",{className:e.theadClass,children:i.headerGroups.map((function(e){return(0,w.jsx)("tr",(0,j.Z)((0,j.Z)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return(0,w.jsx)("th",(0,j.Z)((0,j.Z)({},e.getHeaderProps(e.sort&&e.getSortByToggleProps())),{},{className:y()({sorting_desc:!0===e.isSortedDesc,sorting_asc:!1===e.isSortedDesc,sortable:!0===e.sort}),children:e.render("Header")}))}))}))}))}),(0,w.jsx)("tbody",(0,j.Z)((0,j.Z)({},i.getTableBodyProps()),{},{children:(l||[]).map((function(e,t){return i.prepareRow(e),(0,w.jsx)("tr",(0,j.Z)((0,j.Z)({},e.getRowProps()),{},{children:e.cells.map((function(e){return(0,w.jsx)("td",(0,j.Z)((0,j.Z)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]}))}),a&&(0,w.jsx)(S,{link:e.link,tableProps:i,sizePerPageList:e.sizePerPageList})]})},D=n(9126),B=n(5671),H=n(3144),U=n(1830),L=n.n(U),z=n(3682),G=function(){function e(){(0,B.Z)(this,e)}return(0,H.Z)(e,null,[{key:"Delete",value:function(e,t){return L().fire({title:z.Z.t("Are you sure?"),text:z.Z.t("You won't be able to revert this!"),icon:z.Z.t("warning"),showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:z.Z.t("Cancel")}).then((function(n){if(n.isConfirmed)return t(e).then((function(e){if(e)return!0}))}))}},{key:"Update",value:function(e,t,n,a){return L().fire({title:"Change Status",input:"select",inputOptions:n,inputValue:t}).then((function(t){if(t.isConfirmed)return a(e,t.value).then((function(e){return e}))}))}},{key:"CourseUpdate",value:function(e,t,n,a){return L().fire({title:"Change Status",input:"select",inputOptions:t,inputValue:n.status}).then((function(t){if(t.isConfirmed)return a(e,(0,j.Z)((0,j.Z)({},n),{},{status:t.value})).then((function(e){return e}))}))}}]),e}(),R=n(6431),q=n.n(R),A=function(e){return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(q(),{format:"D MMM YYYY",withTitle:!0,children:e})," ",(0,w.jsx)("br",{})]})},Q=n(5316),M=function(e){var t=e.show,n=e.handleClose,a=e.singleTask;(0,x.$G)().t;return(0,w.jsxs)(Q.Z,{show:t,onHide:n,children:[(0,w.jsx)(Q.Z.Header,{closeButton:!0,children:(0,w.jsx)(Q.Z.Title,{children:a.title})}),(0,w.jsxs)(Q.Z.Body,{children:[a.descriptions," "]}),(0,w.jsx)(Q.Z.Footer,{children:(0,w.jsx)(o.Z,{variant:"primary",onClick:n,children:"Close"})})]})},Y=function(){var e=(0,s.useState)({}),t=(0,a.Z)(e,2),n=t[0],v=t[1],j=(0,s.useState)(!1),b=(0,a.Z)(j,2),Z=b[0],k=b[1],y=(0,x.$G)().t,N=(0,g.xh)(),S=N.data,P=N.isLoading,T=(0,g.jj)(),E=(0,a.Z)(T,1)[0],B=(null===S||void 0===S?void 0:S.data)||[],H=[{Header:"#",accessor:function(e,t){return t+1},sort:!0},{Header:y("title"),accessor:function(e){return(0,w.jsxs)("span",{className:"ms-1",children:[" ",e.title]})},sort:!0},{Header:y("status"),accessor:function(e){return(0,w.jsx)("div",{className:"bodySmall",children:"new"===(null===e||void 0===e?void 0:e.status)?(0,w.jsx)(r.Z,{bg:"info",pill:!0,children:(0,w.jsx)("span",{className:"ms-1",children:y(null===e||void 0===e?void 0:e.status)})}):"pending"===(null===e||void 0===e?void 0:e.status)?(0,w.jsx)(r.Z,{bg:"primary",pill:!0,children:(0,w.jsx)("span",{className:"ms-1",children:y(null===e||void 0===e?void 0:e.status)})}):"canceled"===(null===e||void 0===e?void 0:e.status)?(0,w.jsx)(r.Z,{bg:"danger",pill:!0,children:(0,w.jsx)("span",{className:"ms-1",children:y(null===e||void 0===e?void 0:e.status)})}):"complete"===(null===e||void 0===e?void 0:e.status)?(0,w.jsx)(r.Z,{bg:"success",pill:!0,children:(0,w.jsx)("span",{className:"ms-1",children:y(null===e||void 0===e?void 0:e.status)})}):""})},sort:!0},{Header:y("due date"),accessor:function(e){return A(null===e||void 0===e?void 0:e.dueDate)},sort:!0},{Header:y("create date"),accessor:function(e){return A(null===e||void 0===e?void 0:e.createdAt)},sort:!0},{Header:y("action"),accessor:function(e){return(0,w.jsxs)("div",{className:"bodySmall",children:[(0,w.jsx)(i.Z,{placement:"top",delay:{show:250,hide:400},overlay:(0,w.jsx)(l.Z,{id:"button-tooltip",children:"View"}),children:(0,w.jsx)(o.Z,{variant:"primary",style:{padding:"5px 10px"},className:"me-1",onClick:function(){return function(e){k(!0),v(e)}(e)},children:(0,w.jsx)(f.$aU,{})})}),(0,w.jsx)(i.Z,{placement:"top",delay:{show:250,hide:400},overlay:(0,w.jsx)(l.Z,{id:"button-tooltip",children:"Edit"}),children:(0,w.jsx)(C.rU,{to:"/task-create-update?id=".concat(null===e||void 0===e?void 0:e.id),children:(0,w.jsx)(o.Z,{variant:"primary",style:{padding:"5px 10px"},className:"me-1",children:(0,w.jsx)(f.$iz,{})})})}),(0,w.jsx)(i.Z,{placement:"top",delay:{show:250,hide:400},overlay:(0,w.jsx)(l.Z,{id:"button-tooltip",children:"Delete"}),children:(0,w.jsx)(o.Z,{variant:"danger",style:{padding:"5px 10px"},onClick:function(){return t=e.id,void G.Delete(t,E);var t},children:(0,w.jsx)(D.yvY,{})})})]})}}],U=[{text:"5",value:5},{text:"10",value:10},{text:"25",value:25},{text:"All",value:null===B||void 0===B?void 0:B.length}];return(0,w.jsx)(m.Z,{children:(0,w.jsxs)(c.Z,{children:[(0,w.jsx)(u.Z,{children:(0,w.jsx)(u.Z.Body,{children:(0,w.jsxs)(d.Z,{children:[(0,w.jsxs)(p.Z,{className:"d-flex justify-content-between p-2",sm:12,children:[(0,w.jsx)("h5",{children:y("task")}),(0,w.jsx)(C.rU,{to:"/task-create-update",children:(0,w.jsx)(o.Z,{size:"sm",variant:"primary",children:y("create Task")})})]}),(0,w.jsx)(p.Z,{sm:12,children:P?(0,w.jsx)(h.Z,{size:"lg",variant:"primary"}):null!==B&&void 0!==B&&B.length?(0,w.jsx)(F,{columns:H,data:B,pageSize:5,sizePerPageList:U,isSortable:!0,pagination:!0}):y("no data found")})]})})}),(0,w.jsx)(M,{show:Z,handleClose:function(){k(!1),v({})},singleTask:n})]})})}}}]);
//# sourceMappingURL=392.5fc5b9b9.chunk.js.map